<div class="flex min-h-screen bg-gray-50 dark:bg-gray-900">
  <!-- Sidebar -->
  <app-admin-sidebar></app-admin-sidebar>

  <!-- Main Content -->
  <main class="flex-1 overflow-auto">
    <app-password-warning-banner></app-password-warning-banner>
    <div class="p-6">
    <!-- Page Header -->
    <div class="mb-8">
      <h1 class="text-2xl font-bold text-gray-800 dark:text-white">Dashboard</h1>
      <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Overview of your portfolio admin panel</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="flex items-center justify-center py-20">
      <i class="fa-solid fa-spinner fa-spin text-3xl text-indigo-600 dark:text-indigo-400"></i>
    </div>

    <div *ngIf="!isLoading">
      <!-- Stats Cards Row -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <!-- Total Contacts -->
        <div
          class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 shadow-sm"
        >
          <div class="flex items-center gap-4">
            <div
              class="flex h-12 w-12 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/30"
            >
              <i class="fa-solid fa-address-book text-xl text-blue-600 dark:text-blue-400"></i>
            </div>
            <div>
              <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total Contacts</p>
              <p class="text-2xl font-bold text-gray-800 dark:text-white">{{ totalContacts }}</p>
            </div>
          </div>
        </div>

        <!-- Unread Contacts -->
        <div
          class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 shadow-sm"
        >
          <div class="flex items-center gap-4">
            <div
              class="flex h-12 w-12 items-center justify-center rounded-lg bg-amber-100 dark:bg-amber-900/30"
            >
              <i class="fa-solid fa-envelope text-xl text-amber-600 dark:text-amber-400"></i>
            </div>
            <div>
              <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Unread</p>
              <p class="text-2xl font-bold text-gray-800 dark:text-white">{{ unreadContacts }}</p>
            </div>
          </div>
        </div>

        <!-- Total Blogs -->
        <div
          class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 shadow-sm"
        >
          <div class="flex items-center gap-4">
            <div
              class="flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100 dark:bg-purple-900/30"
            >
              <i class="fa-solid fa-blog text-xl text-purple-600 dark:text-purple-400"></i>
            </div>
            <div>
              <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total Blogs</p>
              <p class="text-2xl font-bold text-gray-800 dark:text-white">{{ totalBlogs }}</p>
            </div>
          </div>
        </div>

        <!-- Published Blogs -->
        <div
          class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 shadow-sm"
        >
          <div class="flex items-center gap-4">
            <div
              class="flex h-12 w-12 items-center justify-center rounded-lg bg-green-100 dark:bg-green-900/30"
            >
              <i class="fa-solid fa-check-circle text-xl text-green-600 dark:text-green-400"></i>
            </div>
            <div>
              <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Published</p>
              <p class="text-2xl font-bold text-gray-800 dark:text-white">{{ publishedBlogs }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Contacts Grid Section -->
      <div
        class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 shadow-sm mb-8"
      >
        <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Recent Contacts</h2>
        <ag-grid-angular
          class="ag-theme-alpine w-full"
          [style.height]="'350px'"
          [rowData]="contacts"
          [columnDefs]="contactColumnDefs"
          [defaultColDef]="defaultColDef"
          [pagination]="true"
          [paginationPageSize]="10"
        ></ag-grid-angular>
      </div>

      <!-- Blog Analytics Chart Section -->
      <div
        class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 shadow-sm"
      >
        <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Blog Analytics</h2>
        <div class="max-w-md mx-auto">
          <canvas
            baseChart
            [data]="blogChartData"
            [options]="blogChartOptions"
            type="bar"
          ></canvas>
        </div>
      </div>
    </div>
    </div>
  </main>
</div>
