<nav class="navbar"
     [class.scrolled]="isScrolled()">
  <div class="navbar-container">
    <div class="navbar-content">
      <!-- Logo/Name -->
      <a (click)="scrollTo('home')"
         (keydown.enter)="scrollTo('home')"
         class="navbar-logo"
         tabindex="0"
         role="button"
         aria-label="Go to home">
        <span class="text-gradient-primary">KC</span>
      </a>

      <!-- Desktop Navigation -->
      <ul class="navbar-menu-desktop">
        <li *ngFor="let section of sections">
          <a (click)="scrollTo(section.id)"
             (keydown.enter)="scrollTo(section.id)"
             class="navbar-link"
             [class.active]="activeSection() === section.id"
             tabindex="0"
             role="button"
             [attr.aria-label]="'Navigate to ' + section.label"
             [attr.aria-current]="activeSection() === section.id ? 'page' : null">
            {{ section.label }}
          </a>
        </li>
        <li>
          <a routerLink="/blog"
             class="navbar-link"
             [attr.aria-label]="'Navigate to Blog'">
            Blog
          </a>
        </li>
        <li class="navbar-theme-toggle">
          <app-theme-toggle></app-theme-toggle>
        </li>
      </ul>

      <!-- Mobile Menu Button -->
      <div class="navbar-mobile-controls">
        <app-theme-toggle></app-theme-toggle>
        <button class="navbar-mobile-toggle"
                (click)="toggleMobileMenu()"
                [attr.aria-label]="isMobileMenuOpen() ? 'Close menu' : 'Open menu'"
                [attr.aria-expanded]="isMobileMenuOpen()">
          <i class="pi" [class.pi-bars]="!isMobileMenuOpen()" [class.pi-times]="isMobileMenuOpen()"></i>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="navbar-menu-mobile"
         [class.open]="isMobileMenuOpen()">
      <ul class="navbar-menu-mobile-list">
        <li *ngFor="let section of sections">
          <a (click)="scrollTo(section.id)"
             (keydown.enter)="scrollTo(section.id)"
             class="navbar-mobile-link"
             [class.active]="activeSection() === section.id"
             tabindex="0"
             role="button"
             [attr.aria-label]="'Navigate to ' + section.label">
            {{ section.label }}
          </a>
        </li>
        <li>
          <a routerLink="/blog"
             (click)="closeMobileMenu()"
             class="navbar-mobile-link"
             [attr.aria-label]="'Navigate to Blog'">
            Blog
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
