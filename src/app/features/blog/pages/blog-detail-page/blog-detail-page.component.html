<!-- Blog Detail Page -->
<div class="blog-detail">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <app-loading-spinner message="Loading blog post..."></app-loading-spinner>
  </div>

  <!-- Error State -->
  <div *ngIf="errorMessage" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center">
      <i class="fa-solid fa-exclamation-triangle text-4xl text-red-500 mb-4"></i>
      <p class="text-gray-600 dark:text-gray-300 mb-6">{{ errorMessage }}</p>
      <a routerLink="/blog"
         class="text-blue-600 dark:text-blue-400 hover:text-blue-800 font-medium inline-flex items-center gap-2">
        <i class="fa-solid fa-arrow-left"></i>
        Back to Blog
      </a>
    </div>
  </div>

  <!-- Blog Content -->
  <article *ngIf="!isLoading && !errorMessage && blog" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Back Button -->
    <a routerLink="/blog"
       class="back-link">
      <i class="fa-solid fa-arrow-left"></i>
      Back to Blog
    </a>

    <!-- Cover Image -->
    <div *ngIf="blog.coverImage" class="cover-image-wrapper">
      <img [src]="blog.coverImage"
           [alt]="blog.title"
           class="cover-image" />
    </div>

    <!-- Tags -->
    <div *ngIf="blog.tags?.length" class="tags">
      <span *ngFor="let tag of blog.tags" class="tag">{{ tag }}</span>
    </div>

    <!-- Title -->
    <h1 class="blog-title">{{ blog.title }}</h1>

    <!-- Meta -->
    <div class="blog-meta">
      <span class="inline-flex items-center gap-1">
        <i class="fa-regular fa-calendar"></i>
        {{ blog.publishedDate | timeAgo }}
      </span>
    </div>

    <!-- Divider -->
    <hr class="divider" />

    <!-- Blog HTML Content -->
    <div class="blog-content prose prose-lg dark:prose-invert max-w-none
                prose-headings:font-bold
                prose-a:text-blue-600 dark:prose-a:text-blue-400
                prose-code:bg-gray-100 dark:prose-code:bg-gray-700 prose-code:rounded prose-code:px-1"
         [innerHTML]="blog.content | safeHtml">
    </div>
  </article>
</div>
